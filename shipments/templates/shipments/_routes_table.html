<style>
.table td, .table th { border:0 !important; }
.form-control, .form-select { border:0 !important; box-shadow:none !important; }
.form-control:focus, .form-select:focus { box-shadow:none !important; }
</style>

<div  id="routes-table-wrap" class="g-3 mb-3">
    <div class="table-responsive  mb-3">
        <table class="table table-sm align-middle mb-0">
        <thead class="table-light">
        <tr>
            <th style="width:60px">#</th>
            <th>Origin</th>
            <th>Destination</th>
            <th style="min-width:160px">ETD</th>
            <th style="min-width:160px">ETA</th>
            <th>Type</th>
            <th>Asset</th>
            <th class="text-end" style="width:120px">Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for r in shipment.routes.all|dictsort:"order" %}
        <tr>
            <td class="text-muted">{{ r.order }}</td>
            <td>
            {{ r.origin_text|default:r.origin.name|default:"-" }}
            </td>
            <td>
            {{ r.destination_text|default:r.destination.name|default:"-" }}
            </td>
            <td>{{ r.planned_departure|date:"Y-m-d H:i" }}</td>
            <td>{{ r.planned_arrival|date:"Y-m-d H:i" }}</td>
            <td>{% firstof r.transportation_type_text r.transportation_type.name "-" %}</td>
            <td>{% firstof r.transportation_asset_text r.transportation_asset.identifier "-" %}</td>
            <td class="text-end">
            <button class="btn btn-outline-secondary btn-sm js-edit-route"
                    data-url="{% url 'shipments:shipment_route_edit_modal' shipment.id r.id %}">
                Edit
            </button>
            <button class="btn btn-outline-danger btn-sm js-del-route"
                    data-url="{% url 'shipments:shipment_route_delete' shipment.id r.id %}">
                Del
            </button>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="8" class="text-muted fst-italic">No routes yet.</td></tr>
        {% endfor %}
        </tbody>
        </table>
    </div>
    <div class="g-3 mb-3">
        <div class="d-flex justify-content-center">
            <button type="button" class="btn btn-primary btn-sm" id="btn-add-route"
                    data-url="{% url 'shipments:shipment_route_add_modal' shipment.id %}">
                <i class="fa fa-plus"></i> Add Route
            </button>
        </div>
    </div>
</div>


