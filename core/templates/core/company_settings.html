{% load static %}
<html lang="en">
  <!--begin::Head-->
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Account Login</title>

    <!--begin::Accessibility Meta Tags-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <meta name="color-scheme" content="light dark" />
    <meta name="theme-color" content="#007bff" media="(prefers-color-scheme: light)" />
    <meta name="theme-color" content="#1a1a1a" media="(prefers-color-scheme: dark)" />
    <!--end::Accessibility Meta Tags-->

    <!--begin::Primary Meta Tags-->
    <meta name="title" content="Cargochains | Login Page" />
    <meta name="author" content="Cargochains" />
    <meta
      name="description"
      content="AdminLTE is a Free Bootstrap 5 Admin Dashboard, 30 example pages using Vanilla JS. Fully accessible with WCAG 2.1 AA compliance."
    />
    <meta
      name="keywords"
      content="bootstrap 5, bootstrap, bootstrap 5 admin dashboard, bootstrap 5 dashboard, bootstrap 5 charts, bootstrap 5 calendar, bootstrap 5 datepicker, bootstrap 5 tables, bootstrap 5 datatable, vanilla js datatable, colorlibhq, colorlibhq dashboard, colorlibhq admin dashboard, accessible admin panel, WCAG compliant"
    />
    <!--end::Primary Meta Tags-->

    <!--begin::Accessibility Features-->
    <!-- Skip links will be dynamically added by accessibility.js -->
    <meta name="supported-color-schemes" content="light dark" />
    <link  rel="stylesheet" href="{% static 'adminlte/css/adminlte.css' %}" type="text/css" />
     <link rel="stylesheet" href="{% static 'adminlte/css/custom.css' %}"/>
  
    
    <!--end::Accessibility Features-->

    <!--begin::Fonts-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@fontsource/source-sans-3@5.0.12/index.css"
      integrity="sha256-tXJfXfp6Ewt1ilPzLDtQnJV4hclT9XuaZUKyUvmyr+Q="
      crossorigin="anonymous"
      media="print"
      onload="this.media='all'"
    />
    <!--end::Fonts-->

    <!--begin::Third Party Plugin(OverlayScrollbars)-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.11.0/styles/overlayscrollbars.min.css"
      crossorigin="anonymous"
    />
    <!--end::Third Party Plugin(OverlayScrollbars)-->

    <!--begin::Third Party Plugin(Bootstrap Icons)-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
      crossorigin="anonymous"
    />
    <!--end::Third Party Plugin(Bootstrap Icons)-->

    
  </head>
  <!--end::Head-->
  <!--begin::Body-->
  <body class="login-page bg-body-secondary">
   


    <div class="app-content-header">
  <div class="container-fluid">
    <div class="d-flex align-items-center justify-content-between">
      <div>
        <h4 class="mb-0">{{ page_title }}</h4>
        {% if is_setup %}
          <div class="text-muted small">Mandatory setup sebelum transaksi berjalan.</div>
        {% else %}
          <div class="text-muted small">Update informasi perusahaan kapan saja.</div>
        {% endif %}
      </div>
      <div class="d-flex gap-2">
        {% if not is_setup %}
          <span class="badge text-bg-success">Configured</span>
        {% else %}
          <span class="badge text-bg-warning">Not Configured</span>
        {% endif %}
      </div>
    </div>
  </div>
</div>

<div class="app-content">
  <div class="container-fluid">
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}

      {% if form.non_field_errors %}
        <div class="alert alert-danger py-2">
          {{ form.non_field_errors }}
        </div>
      {% endif %}

      <div class="row g-3">
        <!-- LEFT -->
        <div class="col-lg-7">
          <div class="card">
            <div class="card-header">
              <h6 class="mb-0">Company Profile</h6>
            </div>
            <div class="card-body">

              <div class="row g-2">
                <div class="col-md-6">
                  <label class="form-label mb-1">Company Name <span class="text-danger">*</span></label>
                  {{ form.company_name }}
                  {% if form.company_name.errors %}<div class="text-danger small">{{ form.company_name.errors|striptags }}</div>{% endif %}
                </div>

                <div class="col-md-6">
                  <label class="form-label mb-1">Legal Name <span class="text-danger">*</span></label>
                  {{ form.legal_name }}
                  {% if form.legal_name.errors %}<div class="text-danger small">{{ form.legal_name.errors|striptags }}</div>{% endif %}
                </div>

                <div class="col-12">
                  <label class="form-label mb-1">Address <span class="text-danger">*</span></label>
                  {{ form.address }}
                  {% if form.address.errors %}<div class="text-danger small">{{ form.address.errors|striptags }}</div>{% endif %}
                </div>

                <div class="col-md-4">
                  <label class="form-label mb-1">City <span class="text-danger">*</span></label>
                  {{ form.city }}
                  {% if form.city.errors %}<div class="text-danger small">{{ form.city.errors|striptags }}</div>{% endif %}
                </div>

                <div class="col-md-4">
                  <label class="form-label mb-1">Country <span class="text-danger">*</span></label>
                  {{ form.country }}
                  {% if form.country.errors %}<div class="text-danger small">{{ form.country.errors|striptags }}</div>{% endif %}
                </div>

                <div class="col-md-4">
                  <label class="form-label mb-1">Default Currency <span class="text-danger">*</span></label>
                  {{ form.default_currency }}
                  {% if form.default_currency.errors %}<div class="text-danger small">{{ form.default_currency.errors|striptags }}</div>{% endif %}
                </div>

                <div class="col-md-6">
                  <label class="form-label mb-1">Phone <span class="text-danger">*</span></label>
                  {{ form.phone }}
                  {% if form.phone.errors %}<div class="text-danger small">{{ form.phone.errors|striptags }}</div>{% endif %}
                </div>

                <div class="col-md-6">
                  <label class="form-label mb-1">Email <span class="text-danger">*</span></label>
                  {{ form.email }}
                  {% if form.email.errors %}<div class="text-danger small">{{ form.email.errors|striptags }}</div>{% endif %}
                </div>

              </div>
            </div>
          </div>

          <div class="card mt-3">
            <div class="card-header">
              <h6 class="mb-0">Legal & Branding (Optional)</h6>
            </div>
            <div class="card-body">
              <div class="row g-2">
                <div class="col-md-6">
                  <label class="form-label mb-1">NPWP</label>
                  {{ form.npwp }}
                  {% if form.npwp.errors %}<div class="text-danger small">{{ form.npwp.errors|striptags }}</div>{% endif %}
                </div>

                <div class="col-md-6 d-flex align-items-end">
                  <div class="form-check">
                    {{ form.is_pkp }}
                    <label class="form-check-label">PKP</label>
                  </div>
                </div>

                <div class="col-md-6">
                  <label class="form-label mb-1">Logo</label>
                  <input type="file" name="{{ form.logo.name }}" class="form-control form-control-sm">
                  {% if company and company.logo %}
                    <div class="small text-muted mt-1">Current: {{ company.logo.name }}</div>
                  {% endif %}
                  {% if form.logo.errors %}<div class="text-danger small">{{ form.logo.errors|striptags }}</div>{% endif %}
                </div>

                <div class="col-md-6">
                  <label class="form-label mb-1">Footer Text (PDF)</label>
                  {{ form.footer_text }}
                  {% if form.footer_text.errors %}<div class="text-danger small">{{ form.footer_text.errors|striptags }}</div>{% endif %}
                </div>
              </div>
            </div>
          </div>

        </div>

        <!-- RIGHT -->
        <div class="col-lg-5">
          <div class="card">
            <div class="card-header">
              <h6 class="mb-0">System Behavior (Optional)</h6>
            </div>
            <div class="card-body">

              <div class="form-check mb-2">
                {{ form.enable_multi_currency }}
                <label class="form-check-label">Enable Multi Currency</label>
              </div>

              <div class="form-check mb-2">
                {{ form.enable_tax }}
                <label class="form-check-label">Enable Tax</label>
              </div>

              <div class="form-check mb-2">
                {{ form.enable_job_cost }}
                <label class="form-check-label">Enable Job Cost</label>
              </div>

              <div class="form-check mb-2">
                {{ form.enable_auto_journal }}
                <label class="form-check-label">Enable Auto Journal</label>
              </div>

              <div class="alert alert-info small mt-3 mb-0">
                Flag ini boleh diubah kapan saja. Ia mengatur perilaku fitur, bukan menghapus data yang sudah ada.
              </div>

            </div>
            <div class="card-footer d-flex justify-content-end gap-2">
              <button type="submit" class="btn btn-primary btn-sm">
                {% if is_setup %}Save & Continue{% else %}Save Changes{% endif %}
              </button>
            </div>
          </div>
        </div>

      </div>
    </form>
  </div>
</div>




















    <!--begin::Third Party Plugin(OverlayScrollbars)-->
    <script
      src="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.11.0/browser/overlayscrollbars.browser.es6.min.js"
      crossorigin="anonymous"
    ></script>
    <!--end::Third Party Plugin(OverlayScrollbars)--><!--begin::Required Plugin(popperjs for Bootstrap 5)-->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      crossorigin="anonymous"
    ></script>
    <!--end::Required Plugin(popperjs for Bootstrap 5)--><!--begin::Required Plugin(Bootstrap 5)-->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.min.js"
      crossorigin="anonymous"
    ></script>
    <!--end::Required Plugin(Bootstrap 5)--><!--begin::Required Plugin(AdminLTE)-->
    
    <script src="{% static 'adminlte/js/adminlte.js' %}"></script>
    <!--end::Required Plugin(AdminLTE)--><!--begin::OverlayScrollbars Configure-->
    <script>
      const SELECTOR_SIDEBAR_WRAPPER = '.sidebar-wrapper';
      const Default = {
        scrollbarTheme: 'os-theme-light',
        scrollbarAutoHide: 'leave',
        scrollbarClickScroll: true,
      };
      document.addEventListener('DOMContentLoaded', function () {
        const sidebarWrapper = document.querySelector(SELECTOR_SIDEBAR_WRAPPER);

        // Disable OverlayScrollbars on mobile devices to prevent touch interference
        const isMobile = window.innerWidth <= 992;

        if (
          sidebarWrapper &&
          OverlayScrollbarsGlobal?.OverlayScrollbars !== undefined &&
          !isMobile
        ) {
          OverlayScrollbarsGlobal.OverlayScrollbars(sidebarWrapper, {
            scrollbars: {
              theme: Default.scrollbarTheme,
              autoHide: Default.scrollbarAutoHide,
              clickScroll: Default.scrollbarClickScroll,
            },
          });
        }
      });
    </script>
    <!--end::OverlayScrollbars Configure-->
    <!--end::Script-->
  </body>
  <!--end::Body-->
</html>


