
<!-- CLEAN cost_detail.html (EST/ACT ONLY) -->
<table id="jobcost-table" class="table table-bordered mb-0">
  <thead>
    <tr>
      <th>Description</th>
      <th class="text-end">Est. Amount</th>
      <th class="text-end">Actual Amount</th>
      <th></th>
    </tr>
  </thead>
  <tbody id="jobcost-body">
    {% for f in cost_formset.forms %}
    <tr class="jobcost-row">
      {{ f.id }}
      <td class="p-0">{{ f.description }}</td>
      <td class="p-0">{{ f.est_amount }}</td>
      <td class="p-0">{{ f.actual_amount }}</td>
      <td class="text-center p-0">
        <button type="button" class="remove-row">✕</button>
        <span class="d-none">{{ f.DELETE }}</span>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<button type="button" id="btn-jobcost-add" class="btn btn-outline-primary btn-sm mt-2">Add Row</button>

<template id="jobcost-empty-row">
  <tr class="jobcost-row">
    {{ cost_formset.empty_form.id }}
    <td class="p-0">{{ cost_formset.empty_form.description }}</td>
    <td class="p-0">{{ cost_formset.empty_form.est_amount }}</td>
    <td class="p-0">{{ cost_formset.empty_form.actual_amount }}</td>
    <td class="text-center p-0">
      <button type="button" class="remove-row">✕</button>
      <span class="d-none">{{ cost_formset.empty_form.DELETE }}</span>
    </td>
  </tr>
</template>

<style>
#jobcost-table td.p-0 { padding:0 !important; }
#jobcost-table td.p-0 input.form-control { width:100%; margin:0 !important; border-radius:0; text-align:right; }
</style>
