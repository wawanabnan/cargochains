{% if form.consignee.errors %}
  <div class="invalid-feedback d-block mb-2">
    {{ form.consignee.errors|striptags }}
  </div>
{% endif %}

<div class="row g-3">
  <!-- LEFT -->
  <div class="col-lg-6">
    <div>
      <label for="id_consignee_text" class="form-label">Cari consignee (partner)</label>
      <input type="text"
             id="id_consignee_text"
             class="form-control js-partner"
             data-url="{% url 'partners:partner_autocomplete' %}"
             placeholder="Cari partner consignee..."
             autocomplete="off"
             value="{% if form.instance.consignee %}{{ form.instance.consignee.company_name|default:form.instance.consignee.name }}{% endif %}">
      <input type="hidden" id="id_consignee" name="consignee"
             value="{% if form.instance.consignee_id %}{{ form.instance.consignee_id }}{% endif %}">
    </div>

    <div class="mt-3">
      <label for="id_consignee_name" class="form-label">Nama</label>
      {{ form.consignee_name }}
      {% if form.consignee_name.errors %}
        <div class="invalid-feedback d-block">{{ form.consignee_name.errors|striptags }}</div>
      {% endif %}
    </div>

    <div class="mt-3">
      <label for="id_consignee_phone" class="form-label">Telepon</label>
      {{ form.consignee_phone }}
      {% if form.consignee_phone.errors %}
        <div class="invalid-feedback d-block">{{ form.consignee_phone.errors|striptags }}</div>
      {% endif %}
    </div>

    <div class="mt-3">
      <label for="id_consignee_address" class="form-label">Alamat</label>
      {{ form.consignee_address }}
      {% if form.consignee_address.errors %}
        <div class="invalid-feedback d-block">{{ form.consignee_address.errors|striptags }}</div>
      {% endif %}
    </div>
  </div>

  <!-- RIGHT (GEO) -->
  <div class="col-lg-6">
    <div>
      <label for="id_consignee_province" class="form-label">Provinsi</label>
      <select id="id_consignee_province" name="consignee_province" class="form-select">
        <option value="">-- Pilih Provinsi --</option>
        {% for prov in provinces %}
          <option value="{{ prov.id }}" {% if form.instance.consignee_province_id == prov.id %}selected{% endif %}>
            {{ prov.name }}
          </option>
        {% endfor %}
      </select>
      {% if form.consignee_province.errors %}
        <div class="invalid-feedback d-block">{{ form.consignee_province.errors|striptags }}</div>
      {% endif %}
    </div>

    <div class="mt-3">
      <label for="id_consignee_regency" class="form-label">Kab/Kota</label>
      <select id="id_consignee_regency" name="consignee_regency" class="form-select">
        <option value="">-- Pilih Kab/Kota --</option>
      </select>
      {% if form.consignee_regency.errors %}
        <div class="invalid-feedback d-block">{{ form.consignee_regency.errors|striptags }}</div>
      {% endif %}
    </div>

    <div class="mt-3">
      <label for="id_consignee_district" class="form-label">Kecamatan</label>
      <select id="id_consignee_district" name="consignee_district" class="form-select">
        <option value="">-- Pilih Kecamatan --</option>
      </select>
      {% if form.consignee_district.errors %}
        <div class="invalid-feedback d-block">{{ form.consignee_district.errors|striptags }}</div>
      {% endif %}
    </div>

    <div class="mt-3">
      <label for="id_consignee_village" class="form-label">Kelurahan/Desa</label>
      <select id="id_consignee_village" name="consignee_village" class="form-select">
        <option value="">-- Pilih Kelurahan/Desa --</option>
      </select>
      {% if form.consignee_village.errors %}
        <div class="invalid-feedback d-block">{{ form.consignee_village.errors|striptags }}</div>
      {% endif %}
    </div>
  </div>
</div>
