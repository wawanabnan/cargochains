{% if form.shipper.errors %}
  <div class="invalid-feedback d-block mb-2">
    {{ form.shipper.errors|striptags }}
  </div>
{% endif %}

<div class="form-check form-switch mb-3">
  <input type="checkbox" class="form-check-input" id="id_shipper_same_as_customer">
  <label class="form-check-label" for="id_shipper_same_as_customer">
    Shipper sama dengan Customer
  </label>
</div>

<div class="row g-3">
  <!-- LEFT -->
  <div class="col-lg-6">
    <div>
      <label for="id_shipper_text" class="form-label">Cari shipper (partner)</label>
      <input type="text"
             id="id_shipper_text"
             class="form-control js-partner"
             data-url="{% url 'partners:partner_autocomplete' %}"
             placeholder="Cari partner shipper..."
             autocomplete="off"
             value="{% if form.instance.shipper %}{{ form.instance.shipper.company_name|default:form.instance.shipper.name }}{% endif %}">
      <input type="hidden" id="id_shipper" name="shipper"
             value="{% if form.instance.shipper_id %}{{ form.instance.shipper_id }}{% endif %}">
    </div>

    <div class="mt-3">
      <label for="id_shipper_contact_name" class="form-label">Nama</label>
      {{ form.shipper_contact_name }}
      {% if form.shipper_contact_name.errors %}
        <div class="invalid-feedback d-block">{{ form.shipper_contact_name.errors|striptags }}</div>
      {% endif %}
    </div>

    <div class="mt-3">
      <label for="id_shipper_phone" class="form-label">Telepon</label>
      {{ form.shipper_phone }}
      {% if form.shipper_phone.errors %}
        <div class="invalid-feedback d-block">{{ form.shipper_phone.errors|striptags }}</div>
      {% endif %}
    </div>

    <div class="mt-3">
      <label for="id_shipper_address" class="form-label">Alamat</label>
      {{ form.shipper_address }}
      {% if form.shipper_address.errors %}
        <div class="invalid-feedback d-block">{{ form.shipper_address.errors|striptags }}</div>
      {% endif %}
    </div>
  </div>

  <!-- RIGHT (GEO) -->
  <div class="col-lg-6">
    <div>
      <label for="id_shipper_province" class="form-label">Provinsi</label>
      <select id="id_shipper_province" name="shipper_province" class="form-select">
        <option value="">-- Pilih Provinsi --</option>
        {% for prov in provinces %}
          <option value="{{ prov.id }}" {% if form.instance.shipper_province_id == prov.id %}selected{% endif %}>
            {{ prov.name }}
          </option>
        {% endfor %}
      </select>
      {% if form.shipper_province.errors %}
        <div class="invalid-feedback d-block">{{ form.shipper_province.errors|striptags }}</div>
      {% endif %}
    </div>

    <div class="mt-3">
      <label for="id_shipper_regency" class="form-label">Kab/Kota</label>
      <select id="id_shipper_regency" name="shipper_regency" class="form-select">
        <option value="">-- Pilih Kab/Kota --</option>
      </select>
      {% if form.shipper_regency.errors %}
        <div class="invalid-feedback d-block">{{ form.shipper_regency.errors|striptags }}</div>
      {% endif %}
    </div>

    <div class="mt-3">
      <label for="id_shipper_district" class="form-label">Kecamatan</label>
      <select id="id_shipper_district" name="shipper_district" class="form-select">
        <option value="">-- Pilih Kecamatan --</option>
      </select>
      {% if form.shipper_district.errors %}
        <div class="invalid-feedback d-block">{{ form.shipper_district.errors|striptags }}</div>
      {% endif %}
    </div>

    <div class="mt-3">
      <label for="id_shipper_village" class="form-label">Kelurahan/Desa</label>
      <select id="id_shipper_village" name="shipper_village" class="form-select">
        <option value="">-- Pilih Kelurahan/Desa --</option>
      </select>
      {% if form.shipper_village.errors %}
        <div class="invalid-feedback d-block">{{ form.shipper_village.errors|striptags }}</div>
      {% endif %}
    </div>
  </div>
</div>
